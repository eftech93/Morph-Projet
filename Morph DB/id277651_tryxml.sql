-- phpMyAdmin SQL Dump
-- version 4.6.5.1
-- https://www.phpmyadmin.net/
--
-- Host: localhost:3306
-- Generation Time: Dec 03, 2016 at 10:21 AM
-- Server version: 10.1.18-MariaDB
-- PHP Version: 7.0.8

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `id277651_tryxml`
--

-- --------------------------------------------------------

--
-- Table structure for table `activity`
--

CREATE TABLE `activity` (
  `appname` varchar(20) COLLATE utf8_unicode_ci NOT NULL,
  `activityname` varchar(20) COLLATE utf8_unicode_ci NOT NULL,
  `idactivitytype` int(2) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `activityfile`
--

CREATE TABLE `activityfile` (
  `appname` varchar(20) COLLATE utf8_unicode_ci NOT NULL,
  `activityname` varchar(20) COLLATE utf8_unicode_ci NOT NULL,
  `xml` blob NOT NULL,
  `createddate` date NOT NULL,
  `version` varchar(10) COLLATE utf8_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `activitytype`
--

CREATE TABLE `activitytype` (
  `idactivitytype` int(2) NOT NULL,
  `type` varchar(10) COLLATE utf8_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

--
-- Dumping data for table `activitytype`
--

INSERT INTO `activitytype` (`idactivitytype`, `type`) VALUES
(1, 'main'),
(2, 'normal');

-- --------------------------------------------------------

--
-- Table structure for table `app`
--

CREATE TABLE `app` (
  `iduser` int(7) NOT NULL,
  `name` varchar(20) COLLATE utf8_unicode_ci NOT NULL,
  `createddate` date NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

--
-- Dumping data for table `app`
--

INSERT INTO `app` (`iduser`, `name`, `createddate`) VALUES
(1, 'testingapp', '2016-12-02');

-- --------------------------------------------------------

--
-- Table structure for table `subusers`
--

CREATE TABLE `subusers` (
  `fatheruser` int(7) NOT NULL,
  `sonuser` int(7) NOT NULL,
  `available` tinyint(1) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `systemfiles`
--

CREATE TABLE `systemfiles` (
  `idsystemfilesname` int(11) NOT NULL,
  `file` blob NOT NULL,
  `version` varchar(20) COLLATE utf8_unicode_ci NOT NULL,
  `createddate` date NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='System Files ';

--
-- Dumping data for table `systemfiles`
--

INSERT INTO `systemfiles` (`idsystemfilesname`, `file`, `version`, `createddate`) VALUES
(1, 0x54657874566965770d0a427574746f6e0d0a466c6f6174696e67416374696f6e427574746f6e0d0a5377697463680d0a45646974546578740d0a4c696e6561724c61796f75740d0a496d61676556696577, '1.0.0.1', '2016-12-02'),
(2, 0x66756e6374696f6e206d5f72756e28766329200d0a6c6f63616c20746869735f203d2076633a6765742830293a67657454636c6173732829200d0a6c6f63616c2076200d0a696620746869735f203d3d2027546578745669657727207468656e200d0a76203d206c75616a6176612e6e6577496e7374616e63652827616e64726f69642e7769646765742e5465787456696577272c20636f6e7465787429200d0a656c7365696620746869735f203d3d2027427574746f6e27207468656e200d0a76203d206c75616a6176612e6e6577496e7374616e63652827616e64726f69642e7769646765742e427574746f6e272c20636f6e7465787429200d0a656c7365696620746869735f203d3d2027466c6f6174696e67416374696f6e427574746f6e27207468656e200d0a76203d206c75616a6176612e6e6577496e7374616e63652827616e64726f69642e737570706f72742e64657369676e2e7769646765742e466c6f6174696e67416374696f6e427574746f6e272c20636f6e7465787429200d0a656c7365696620746869735f203d3d202753776974636827207468656e200d0a76203d206c75616a6176612e6e6577496e7374616e63652827616e64726f69642e7769646765742e537769746368272c20636f6e7465787429200d0a656c7365696620746869735f203d3d2027456469745465787427207468656e200d0a76203d206c75616a6176612e6e6577496e7374616e63652827616e64726f69642e7769646765742e4564697454657874272c20636f6e7465787429200d0a656c7365696620746869735f203d3d20274c696e6561724c61796f757427207468656e200d0a76203d206c75616a6176612e6e6577496e7374616e63652827616e64726f69642e7769646765742e4c696e6561724c61796f7574272c20636f6e7465787429200d0a666f722069203d20302c2076633a6765742830293a6765744368696c647328293a73697a652829202d20312c203120646f200d0a6c6f63616c20726570203d206c75616a6176612e6e6577496e7374616e63652827636f6d2e74756e6170726f6a656374732e6d6f7270682e436f6e74726f6c6c65722e5669657750726570617265722729200d0a6c6f63616c206368696c64203d2076633a6765742830293a6765744368696c647328293a676574286929200d0a76696577203d207265703a67656e657261746542617365456c656d656e7428636f6e746578742c206368696c642c2076633a67657428312929200d0a763a61646456696577287669657729200d0a656e64200d0a656c7365696620746869735f20203d3d2027496d6167655669657727207468656e200d0a76203d206c75616a6176612e6e6577496e7374616e63652827616e64726f69642e7769646765742e496d61676556696577272c20636f6e7465787429200d0a656e64200d0a72657475726e2076200d0a656e6420, '1.0.0.1', '2016-12-02'),
(3, 0x66756e6374696f6e206d5f72756e286f6c644461746129200d0a666f722069203d20302c20616c703a73697a652829202d31202c203120646f200d0a696620616c703a6765742869293a67657450726f70657274794e616d652829203d3d20276261636b67726f756e64436f6c6f7227207468656e200d0a746869735f3a7365744261636b67726f756e64436f6c6f7228207061727365723a676574436f6c6f7246726f6d537472696e672820616c703a6765742869293a67657450726f706572747956616c7565282920292029200d0a656c7365696620616c703a6765742869293a67657450726f70657274794e616d652829203d3d20276d696e68656967687427207468656e200d0a746869735f3a7365744d696e696d756d486569676874287061727365723a7061727365496e746567657246726f6d537472696e672820616c703a6765742869293a67657450726f706572747956616c75652829202929200d0a656c7365696620616c703a6765742869293a67657450726f70657274794e616d652829203d3d202768656967687427207468656e200d0a7574696c203d206c75616a6176612e6e6577496e7374616e63652827636f6d2e74756e6170726f6a656374732e6d6f7270682e4d6f64656c2e5574696c6974792e5574696c732729200d0a6c6c6c70203d207574696c3a67656e65726174654c61796f7574506172616d7328746869735f3a6765744c61796f7574506172616d7328292e77696474682c207061727365723a7061727365496e746567657246726f6d537472696e672820616c703a6765742869293a67657450726f706572747956616c7565282920292c20746869735f3a676574506172656e742829202920200d0a746869735f3a7365744c61796f7574506172616d73286c6c6c7029200d0a656c7365696620616c703a6765742869293a67657450726f70657274794e616d652829203d3d2027776964746827207468656e200d0a7574696c203d206c75616a6176612e6e6577496e7374616e63652827636f6d2e74756e6170726f6a656374732e6d6f7270682e4d6f64656c2e5574696c6974792e5574696c732729200d0a6c6c6c70203d207574696c3a67656e65726174654c61796f7574506172616d73287061727365723a7061727365496e746567657246726f6d537472696e672820616c703a6765742869293a67657450726f706572747956616c7565282920292c20746869735f3a6765744c61796f7574506172616d7328292e6865696768742c20746869735f3a676574506172656e7428292920200d0a746869735f3a7365744c61796f7574506172616d73286c6c6c7029200d0a746869735f3a7365744d696e696d756d486569676874287061727365723a7061727365496e746567657246726f6d537472696e672820616c703a6765742869293a67657450726f706572747956616c75652829202929200d0a656c7365696620616c703a6765742869293a67657450726f70657274794e616d652829203d3d202775726c736f7572636527207468656e200d0a6c6f63616c2061727261794c697374203d206c75616a6176612e6e6577496e7374616e636528276a6176612e7574696c2e41727261794c6973742729200d0a61727261794c6973743a61646428616c703a6765742869293a67657450726f706572747956616c7565282929200d0a75726c5f203d207061727365723a70617273657241727261794c697374546f4172726179537472696e672861727261794c69737429200d0a6c6974203d206c75616a6176612e6e6577496e7374616e63652827636f6d2e74756e6170726f6a656374732e6d6f7270682e436f6e74726f6c6c65722e4c6f6164496d6167655461736b272c20746869735f29200d0a6c69743a657865637574652875726c5f29200d0a656c7365696620616c703a6765742869293a67657450726f70657274794e616d652829203d3d20276d696e776964746827207468656e200d0a746869735f3a7365744d696e696d756d5769647468287061727365723a7061727365496e746567657246726f6d537472696e672820616c703a6765742869293a67657450726f706572747956616c75652829202929200d0a656c7365696620616c703a6765742869293a67657450726f70657274794e616d652829203d3d20277465787427207468656e2074657874203d20616c703a6765742869293a67657450726f706572747956616c75652829200d0a746869735f3a73657454657874287465787429200d0a656c7365696620616c703a6765742869293a67657450726f70657274794e616d652829203d3d20276f7269656e746174696f6e27207468656e200d0a696620616c703a6765742869293a67657450726f706572747956616c75652829202e2e2727203d3d2027766572746963616c27207468656e20746869735f3a7365744f7269656e746174696f6e283129200d0a656c7365696620616c703a6765742869293a67657450726f706572747956616c75652829202e2e202727203d3d2027686f72697a6f6e74616c27207468656e2020746869735f3a7365744f7269656e746174696f6e283029200d0a656e64200d0a656c7365696620616c703a6765742869293a67657450726f70657274794e616d652829203d3d20276f6e436c69636b27207468656e200d0a746869735f3a7365744f6e436c69636b4c697374656e6572286c75616a6176612e63726561746550726f78792827616e64726f69642e766965772e56696577244f6e436c69636b4c697374656e6572272c7b200d0a6f6e436c69636b203d2066756e6374696f6e20286529200d0a6578656375746572203d206c75616a6176612e6e6577496e7374616e63652827636f6d2e74756e6170726f6a656374732e6d6f7270682e4d6f64656c2e5574696c6974792e457865637574654c75612729200d0a65786563757465723a657865637574654c756146756e6374696f6e28676c6f62616c732c206f6c64446174612c20616c703a6765742869293a67657450726f706572747956616c75652829202e2e20272729200d0a656e64200d0a7d200d0a292029200d0a656c7365696620616c703a6765742869293a67657450726f70657274794e616d652829203d3d2027656e61626c6527207468656e200d0a746869735f3a736574456e61626c65287061727365723a7061727365426f6f6c65616e46726f6d537472696e6728616c703a6765742869293a67657450726f706572747956616c756528292929200d0a656c7365696620616c703a6765742869293a67657450726f70657274794e616d652829203d3d202765646974746578745479706527207468656e200d0a696620616c703a6765742869293a67657450726f706572747956616c75652829203d3d20276e756d62657227207468656e200d0a746869735f3a736574496e70757454797065283229200d0a656c7365696620616c703a6765742869293a67657450726f706572747956616c75652829203d3d2027656d61696c27207468656e200d0a746869735f3a736574496e7075745479706528333229200d0a656c7365696620616c703a6765742869293a67657450726f706572747956616c75652829203d3d202770686f6e6527207468656e200d0a746869735f3a736574496e70757454797065283329200d0a656c7365696620616c703a6765742869293a67657450726f706572747956616c75652829203d3d20276461746174696d6527207468656e200d0a746869735f3a736574496e70757454797065283429200d0a656c7365696620616c703a6765742869293a67657450726f706572747956616c75652829203d3d20277465787427207468656e200d0a746869735f3a736574496e70757454797065283029200d0a656e64200d0a656e6420200d0a656e64200d0a72657475726e2030200d0a656e642020, '1.0.0.1', '2016-12-02'),
(1, 0x54657874566965770d0a427574746f6e0d0a466c6f6174696e67416374696f6e427574746f6e0d0a5377697463680d0a45646974546578740d0a4c696e6561724c61796f75740d0a496d61676556696577, '1.0.0.2', '2016-12-02');

-- --------------------------------------------------------

--
-- Table structure for table `systemfilesname`
--

CREATE TABLE `systemfilesname` (
  `idsystemfilesname` int(11) NOT NULL,
  `name` text COLLATE utf8_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='System Files Names';

--
-- Dumping data for table `systemfilesname`
--

INSERT INTO `systemfilesname` (`idsystemfilesname`, `name`) VALUES
(1, 'view.dat'),
(2, 'viewparser.dat'),
(3, 'propertyparser.dat');

-- --------------------------------------------------------

--
-- Table structure for table `testing`
--

CREATE TABLE `testing` (
  `name` text COLLATE utf8_unicode_ci NOT NULL,
  `apellido` text COLLATE utf8_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

--
-- Dumping data for table `testing`
--

INSERT INTO `testing` (`name`, `apellido`) VALUES
('prueba', 'pruea'),
('prueba 2', 'prueba 2');

-- --------------------------------------------------------

--
-- Table structure for table `user`
--

CREATE TABLE `user` (
  `iduser` int(7) NOT NULL,
  `name` varchar(20) COLLATE utf8_unicode_ci NOT NULL,
  `email` varchar(30) COLLATE utf8_unicode_ci NOT NULL,
  `pass` varchar(30) COLLATE utf8_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

--
-- Dumping data for table `user`
--

INSERT INTO `user` (`iduser`, `name`, `email`, `pass`) VALUES
(1, 'Esteban', 'esteban.puello1@gmail.com', '123456789');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `activity`
--
ALTER TABLE `activity`
  ADD PRIMARY KEY (`appname`,`activityname`),
  ADD KEY `appname` (`appname`,`activityname`),
  ADD KEY `idactivitytype` (`idactivitytype`);

--
-- Indexes for table `activityfile`
--
ALTER TABLE `activityfile`
  ADD KEY `appname` (`appname`),
  ADD KEY `activityname` (`activityname`),
  ADD KEY `activity` (`appname`,`activityname`);

--
-- Indexes for table `activitytype`
--
ALTER TABLE `activitytype`
  ADD PRIMARY KEY (`idactivitytype`),
  ADD UNIQUE KEY `type` (`type`);

--
-- Indexes for table `app`
--
ALTER TABLE `app`
  ADD UNIQUE KEY `name` (`name`),
  ADD KEY `iduser` (`iduser`);

--
-- Indexes for table `subusers`
--
ALTER TABLE `subusers`
  ADD KEY `fatheruser` (`fatheruser`),
  ADD KEY `sonuser` (`sonuser`);

--
-- Indexes for table `systemfiles`
--
ALTER TABLE `systemfiles`
  ADD KEY `Foreign Key System File` (`idsystemfilesname`);

--
-- Indexes for table `systemfilesname`
--
ALTER TABLE `systemfilesname`
  ADD PRIMARY KEY (`idsystemfilesname`);

--
-- Indexes for table `user`
--
ALTER TABLE `user`
  ADD PRIMARY KEY (`iduser`),
  ADD UNIQUE KEY `email` (`email`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `activitytype`
--
ALTER TABLE `activitytype`
  MODIFY `idactivitytype` int(2) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;
--
-- AUTO_INCREMENT for table `systemfilesname`
--
ALTER TABLE `systemfilesname`
  MODIFY `idsystemfilesname` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;
--
-- AUTO_INCREMENT for table `user`
--
ALTER TABLE `user`
  MODIFY `iduser` int(7) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;
--
-- Constraints for dumped tables
--

--
-- Constraints for table `activity`
--
ALTER TABLE `activity`
  ADD CONSTRAINT `appname` FOREIGN KEY (`appname`) REFERENCES `app` (`name`),
  ADD CONSTRAINT `idactivitytype` FOREIGN KEY (`idactivitytype`) REFERENCES `activitytype` (`idactivitytype`);

--
-- Constraints for table `activityfile`
--
ALTER TABLE `activityfile`
  ADD CONSTRAINT `activity` FOREIGN KEY (`appname`,`activityname`) REFERENCES `activity` (`appname`, `activityname`);

--
-- Constraints for table `app`
--
ALTER TABLE `app`
  ADD CONSTRAINT `iduser` FOREIGN KEY (`iduser`) REFERENCES `user` (`iduser`);

--
-- Constraints for table `subusers`
--
ALTER TABLE `subusers`
  ADD CONSTRAINT `fatheruser` FOREIGN KEY (`fatheruser`) REFERENCES `user` (`iduser`),
  ADD CONSTRAINT `sonuser` FOREIGN KEY (`sonuser`) REFERENCES `user` (`iduser`);

--
-- Constraints for table `systemfiles`
--
ALTER TABLE `systemfiles`
  ADD CONSTRAINT `Foreign Key System File` FOREIGN KEY (`idsystemfilesname`) REFERENCES `systemfilesname` (`idsystemfilesname`) ON DELETE NO ACTION ON UPDATE NO ACTION;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
